import"./assets/themes-20cd9258.js";import{a as r}from"./assets/vendor-de8bc860.js";class d{constructor(){this.BASE_URL="https://books-backend.p.goit.global/books"}async getCategoriesList(){const e=this.BASE_URL+"/category-list";return(await r.get(e)).data}async getPopularBooks(){const e=this.BASE_URL+"/top-books ";return(await r.get(e)).data}async getSelectedCategory(e){const o=this.BASE_URL+`/category?category=${e}`;return(await r.get(o)).data}async getBookDetailedInfo(e){const o=this.BASE_URL+`/${e}`;return(await r.get(o)).data}}const i=document.querySelectorAll(".nav-list-item"),g=window.location.href;let l;function k(){function t(){i.forEach(a=>a.classList.remove("current-page"))}function e(a){a&&a.href===g&&a.closest(".nav-list-item").classList.add("current-page")}function o(a){t(),a.currentTarget.classList.add("current-page")}i.forEach(a=>{l=a.querySelector(".nav-link"),e(l),a.addEventListener("click",o)})}k();const m=document.querySelector(".categories-list-main");function p(t){return t.map(e=>`<li class='categories-list-item'><a href="">${e.list_name}</a></li>`).join("")}function f(t){const e=p(t);m.insertAdjacentHTML("beforeend",e)}function b(t){const{book_image:e,title:o,author:a,_id:n}=t;return`<li class="book-item" data-id="${n}">
       <div class="book-item-container">
           <div class="book-card-container"> 
            <img class="book-card" src="${e}" alt="${o}">
               <p class="book-card-hover-text">QUICK VIEW</p>
           </div>
           <div class="book-details">
               <p class="book-title">${o}</p>
               <p class="book-author">${a}</p>
           </div>
       </div>
  </li>`}function L(t){return t.map(b).join("")}function y(t){const e=document.querySelector(".all-categories-main"),o=L(t);e.insertAdjacentHTML("beforeend",o)}const s=new d;async function h(){const t=await s.getCategoriesList();f(t)}h();let c;const v=document.querySelector(".categories-list-main");v.addEventListener("click",C);async function C(t){t.preventDefault();let e;if(t.target!==t.currentTarget){if(c=t.target.closest("li"),c.textContent==="All categories")try{const o=await s.getPopularBooks();console.log(o)}catch{console.log("error")}try{e=await s.getSelectedCategory(c.textContent)}catch{console.log("error")}y(e)}}const S=document.querySelector(".categories-list-main");S.addEventListener("click",async t=>{if(t.target===t.currentTarget)return;const e=t.target.dataset.id,o=await s.getBookDetailedInfo(e),a=createModalMarkup(o);pushMarkup(a);const n=document.querySelector(".modal-btn");checkBookStatus(o),n.addEventListener("click",u=>{u.preventDefault(),toggleShoppingList(o)})});hideModal();
//# sourceMappingURL=commonHelpers.js.map
