{"version":3,"file":"commonHelpers.js","sources":["../src/js/booksAPI.js","../src/js/modal.js","../src/js/localStorageFunctions.js","../src/js/category-template.js","../src/js/category-render-function.js","../src/js/izitoast.js","../src/js/loader.js","../src/js/popular-books-render.js","../src/js/categories-list-render.js","../src/js/scroll-up.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nlet selectedCategory;\nlet selectedBookID;\nexport class booksAPI{\n    constructor() {\n        this.BASE_URL = 'https://books-backend.p.goit.global/books';\n        \n    }\n\n    async getCategoriesList() {\n        const url = this.BASE_URL + '/category-list';\n        const res = await axios.get(url);\n        return res.data;\n    }\n\n    async getPopularBooks() {\n        const url = this.BASE_URL + '/top-books ';\n        const res = await axios.get(url);\n        return res.data;\n    }\n\n    async getSelectedCategory(selectedCategory) {\n        const url = this.BASE_URL + `/category?category=${selectedCategory}`;\n        const res = await axios.get(url);\n        return res.data;\n    }\n\n    async getBookDetailedInfo(selectedBookID) {\n        const url = this.BASE_URL + `/${selectedBookID}`;\n        const res = await axios.get(url);\n        return res.data;\n    }\n}","import { refs } from './refs';\nimport amazon1x from '../img/amazon-1x.png';\nimport amazon2x from '../img/amazon-2x.png';\nimport amazon3x from '../img/amazon-3x.png';\nimport book1x from '../img/book-1x.png';\nimport book2x from '../img/book-2x.png';\nimport book3x from '../img/book-3x.png';\n\n\nexport function createModalMarkup(FROM_SERVER) {\n  const markup = `<div class=\"modal-backdrop\">\n    <div class=\"modal-content-container\">\n    <svg class=\"modal-close-btn\" width=\"24\" height=\"24\"><use href=\"./img/symbol-defs.svg#icon-x-close1\"></use></svg>\n    <img src=\"${FROM_SERVER.book_image}\" class=\"modal-book-image\" />\n    <div class=\"modal-book-info\">\n    <h3 class=\"modal-title\">${FROM_SERVER.title}</h3>\n    <p class=\"modal-author\">${FROM_SERVER.author}</p>\n    <p class=\"modal-description\">${FROM_SERVER.description}</p>\n    <ul class=\"modal-shops-list\">\n    <li class=\"modal-shops-item\"><a class=\"test-link\" href=\"${FROM_SERVER.buy_links[0].url}\" target=\"_blank\" rel=\"noopener noreferrer\">\n    <img width=\"32\" height=\"11\" class=\"shopping-list-amazon\" srcset=\"\n    ${amazon1x} 1x,\n    ${amazon2x} 2x,\n    ${amazon3x} 3x\n  \" src=\"${amazon1x}\" alt=\"amazon\" />\n          </a></li>\n    <li class=\"modal-shops-item\"><a class=\"test-link\" href=\"${FROM_SERVER.buy_links[1].url}\" target=\"_blank\" rel=\"noopener noreferrer\">\n    <img width=\"16\" height=\"16\" class=\"shopping-list-apple\" srcset=\"\n    ${book1x} 1x,\n    ${book2x} 2x,\n    ${book3x} 3x\" src=\"${book1x}\" alt=\"apple\" />\n          </a></li>\n    </ul>\n    </div>\n    <button type=\"submit\" class=\"modal-btn\"></button>\n\n    </div>\n    </div>`;\n  return markup;\n  // pushMarkup(markup);\n}\n\nexport function pushMarkup(markup) {\n  document.body.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function hideModal() {\n  const modalBackdrop = document.querySelector('.modal-backdrop');\n\n  const modalCloseBtn = document.querySelector('.modal-close-btn');\n  document.addEventListener('keydown', event => {\n    // event.preventDefault();\n    if (event.key === 'Escape') {\n      removeListeners();\n    }\n  });\n\n  modalCloseBtn.addEventListener('click', event => {\n    // event.preventDefault();\n    removeListeners();\n  });\n\n  modalBackdrop.addEventListener('click', event => {\n    // event.preventDefault();\n    if (event.target === modalBackdrop) {\n      removeListeners();\n    }\n  });\n}\n\nexport function removeListeners() {\n  const modalBackdrop = document.querySelector('.modal-backdrop');\n  const modalCloseBtn = document.querySelector('.modal-close-btn');\n  if (modalBackdrop && modalBackdrop.parentNode) {\n    modalBackdrop.parentNode.removeChild(modalBackdrop);\n  }\n\n  if (modalCloseBtn) {\n    document.removeEventListener('keydown', e => {\n      console.log('listener is remove');\n    });\n    modalCloseBtn.removeEventListener('click', e => {\n      console.log('listener is remove');\n    });\n    modalBackdrop.removeEventListener('click', e => {\n      console.log('listener is remove');\n    });\n  }\n  document.body.style.overflow = null;\n}\n\nexport function successTextMarkup() {\n  const existingSuccessText = document.querySelector('.modal-success-text');\n  const modalButton = document.querySelector('.modal-btn');\n\n  if (!existingSuccessText) {\n    if (modalButton.textContent.trim().toLowerCase() ==='remove from shopping list') return;\n    const successText = `<p class=\"modal-success-text\">Congratulations! You have added the book to the shopping list.\n       To delete, press the button \"Remove from the shopping list\".</p>`;\n\n    pushSuccessTextMarkup(successText);\n  } else {\n    if (modalButton.textContent.trim().toLowerCase() === 'remove from shopping list') {\n    existingSuccessText.parentNode.removeChild(existingSuccessText);\n      \n    }\n  }\n}\n\nexport function pushSuccessTextMarkup(markup) {\n  const modalWindow = document.querySelector('.modal-content-container');\n  modalWindow.insertAdjacentHTML('beforeend', markup);\n}\n\n","import { pushSuccessTextMarkup } from './modal';\nimport {refs} from './refs'\nexport function toggleShoppingList(book) {\n  const modalButton = document.querySelector('.modal-btn');\n\n  let shoppingList = JSON.parse(localStorage.getItem('shoppingList')) || [];\n  let btnTextContent;\n\n  const bookIndex = shoppingList.findIndex(item => book._id === item._id);\n\n  if (bookIndex === -1) {\n    shoppingList.push(book);\n    btnTextContent = 'remove from shopping list';\n  } else {\n    shoppingList.splice(bookIndex, 1);\n    btnTextContent = 'add to shopping list';\n  }\n\n  localStorage.setItem('shoppingList', JSON.stringify(shoppingList));\n  modalButton.textContent = btnTextContent;\n}\n\nexport function checkBookStatus(book) {\n  const modalButton = document.querySelector('.modal-btn');\n  let shoppingList = JSON.parse(localStorage.getItem('shoppingList')) || [];\n  let btnTextContent;\n\n  const bookIndex = shoppingList.findIndex(item => book._id === item._id);\n\n  if (bookIndex === -1) {\n    btnTextContent = 'add to shopping list';\n  } else {\n    btnTextContent = 'remove from shopping list';\n  }\n\n  modalButton.textContent = btnTextContent;\n}\n","                      \n export function mainBookTemplate(book){\n    const { book_image, title, author, _id } = book;\n       \n       return `<li class=\"book-item\" data-id=\"${_id}\">\n       <div class=\"book-item-container\">\n           <div class=\"book-card-container\"> \n            <img class=\"book-card\" src=\"${book_image}\" alt=\"${title}\">\n               <p class=\"book-card-hover-text\">QUICK VIEW</p>\n           </div>\n           <div class=\"book-details\">\n               <p class=\"book-title\">${title}</p>\n               <p class=\"book-author\">${author}</p>\n           </div>\n       </div>\n  </li>`;\n           } \n  \nexport function mainBooksTemplate(books) {\n    const markup = books.map(mainBookTemplate).join('');\n    return `<ul class='all-categories-main'>${markup}</ul>`\n  }\n  \n\n","import { mainBooksTemplate } from \"./category-template\";  \nimport { refs } from './refs'\n\nexport function renderCategoriesMain(books) {\n    const markupMain = mainBooksTemplate(books);\n    refs.allCategoriesContainer.insertAdjacentHTML('beforeend', markupMain);\n  }\n  \nexport function bookTitle(selectedCategory) {\n  if (selectedCategory.textContent !== 'All categories') {\n    const markupBookTitle = `<h2 class=\"title-book-section\">${selectedCategory.textContent}</h2>`;\n    refs.allCategoriesContainer.insertAdjacentHTML('beforeend', markupBookTitle);\n  \n    applyLastWordStyle();\n  }\n}\nexport function bookTitleSeeMore(selectedCategory) {\n  if (selectedCategory !== 'All categories') {\n    const markupBookTitle = `<h2 class=\"title-book-section\">${selectedCategory}</h2>`;\n    refs.allCategoriesContainer.insertAdjacentHTML('beforeend', markupBookTitle);\n  \n    applyLastWordStyle();\n  }\n}\n\nexport function applyLastWordStyle() {\n  const elements = document.querySelectorAll('.title-book-section');\n  elements.forEach(function(element) {\n    const text = element.textContent.trim();\n    const lastWordIndex = text.lastIndexOf(' ');\n    const html = text.slice(0, lastWordIndex) + '<span class=\"last-word\">' + text.slice(lastWordIndex) + '</span>';\n    element.innerHTML = html;\n  });\n};","import iziToast from 'izitoast';\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nexport function showError() { \niziToast.error({\n    title: '',\n    backgroundColor: 'rgb(230, 92, 33)',\n    message:\n      'there are some issues with network',\n    position: 'topLeft',\n});\n}\n\nexport function emptyPage(){\n       \niziToast.error({\n    title: '',\n    backgroundColor: 'rgb(230, 92, 33)',\n    message:\n      'there are no books in this category',\n    position: 'topLeft',\n});\n}\n","import {refs} from './refs'\nexport function showLoader() {\n    refs.loadElem.classList.remove('hide-loader');\n  }\n export function hideLoader() {\n     refs.loadElem.classList.add('hide-loader');\n  }\n","import { applyLastWordStyle, bookTitle, renderCategoriesMain } from \"./category-render-function\";\nimport { booksAPI } from './booksAPI'\nimport {refs} from './refs'\nimport './izitoast';\nimport { emptyPage } from \"./izitoast\";\n\nimport { showLoader, hideLoader } from \"./loader\";\n\n\nconst booksApi = new booksAPI();\n\n//render ALL CATEGORY (BESTSELLERS)\n\nexport async function renderPopularBooks(selectedCategory){\nif (selectedCategory.textContent === 'All categories' || selectedCategory === 'All categories')  {\n  addPopularMainTitle('Best Sellers Books');  \n  let popularBooks;\n\n  try {\n    popularBooks = await booksApi.getPopularBooks();\n    } catch (err) {\n    console.log('error');\n    emptyPage();\n    }\n    const bestSellersMarkup = popularBooks.map((item) => {\n      return `\n      <h3 class=\"book-author popular-title\">${item.list_name}</h3>\n<ul class=\"all-categories-main\">` +\n        item.books\n          .map((book) => {\n            const { book_image, title, author, _id } = book;\n       \n            return `<li class=\"book-item\" data-id=\"${_id}\">\n       <div class=\"book-item-container\">\n           <div class=\"book-card-container\"> \n            <img class=\"book-card\" src=\"${book_image}\" alt=\"${title}\">\n               <p class=\"book-card-hover-text\">QUICK VIEW</p>\n           </div>\n           <div class=\"book-details\">\n               <p class=\"book-title\">${title}</p>\n               <p class=\"book-author\">${author}</p>\n           </div>\n       </div>\n  </li>`;\n          }).join('') +\n        `</ul>` + `<button class='see-more-btn' data-id='${item.list_name}'>See more</button>`\n    }).join('');\n    refs.allCategoriesContainer.insertAdjacentHTML('beforeend', bestSellersMarkup)\n    \n  \n    }\n}\n    \n\n\nexport function addPopularMainTitle(selectedCategory) {\n  const markupTitle = `<h2 class=\"title-book-section\">${selectedCategory}</h2>`;\n  refs.allCategoriesContainer.insertAdjacentHTML('afterbegin', markupTitle )\n  applyLastWordStyle();\n}\n\n// see more\n","import { booksAPI } from './booksAPI'\nimport './popular-books-render'\nimport { renderPopularBooks } from './popular-books-render';\nconst categoriesList = document.querySelector('.categories-list-main')\nconst booksApi = new booksAPI();\n\n\nexport function categoryListTemplate(books) {\n    return books\n        .map((book) => { return `<li class='categories-list-item'><a href=\"\">${book.list_name}</a></li>` })\n        .join('');\n}\n\nexport function renderCategoriesList(books) {\n    const markup = categoryListTemplate(books);\n    categoriesList.insertAdjacentHTML('beforeend', markup);\n}\n\n\n\nexport async function addCategoriesList() {\n  let books;\n  try {\n    books = await booksApi.getCategoriesList();\n  } catch (err) {\n    console.log(err);\n    return;\n  }\n  renderCategoriesList(books);\n}\n\n\n// render categories-list and all category (popular)\n\nexport function homeOnLoad() {\n    addCategoriesList();\n    renderPopularBooks('All categories')\n}","const scrollUpBtn = document.getElementById(\"scrollUpBtn\");\n\nfunction scrollFunction() {\n  if (document.body.scrollTop > 80 || document.documentElement.scrollTop > 80) {\n    scrollUpBtn.style.display = \"block\";\n  } else {\n    scrollUpBtn.style.display = \"none\";\n  }\n}\n\nfunction scrollUp() {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth',\n    });\n  }\n\nwindow.addEventListener(\"scroll\", scrollFunction);\nscrollUpBtn.addEventListener(\"click\", scrollUp);","import axios from 'axios';\nimport Swiper from 'swiper';\nimport { Navigation, Pagination } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\n\nimport { booksAPI } from './js/booksAPI';\nimport {\n  toggleShoppingList,\n  checkBookStatus,\n} from './js/localStorageFunctions';\nimport {\n  createModalMarkup,\n  pushMarkup,\n  hideModal,\n  successTextMarkup,\n} from './js/modal';\nimport './js/themes';\nimport './js/shopping-list-render-function';\nimport './js/shopping-list-template';\nimport './js/header';\nimport './js/categories-list-render';\nimport {\n  addCategoriesList,\n  homeOnLoad,\n  renderCategoriesList,\n} from './js/categories-list-render';\nimport {\n  bookTitle,\n  bookTitleSeeMore,\n  renderCategoriesMain,\n} from './js/category-render-function';\nimport {\n  addPopularMainTitle,\n  renderPopularBooks,\n} from './js/popular-books-render';\nimport { refs } from './js/refs';\nimport './js/mob-menu';\nimport './js/modal-sign-up';\nimport './js/izitoast';\nimport { emptyPage } from './js/izitoast';\nimport './js/support';\nimport './js/scroll-up';\nimport { hideLoader, showLoader} from'./js/loader';\n\nconst booksApi = new booksAPI();\n\nlet selectedCategory;\n\nwindow.addEventListener('load', async () => {\n  showLoader();\n  await addCategoriesList();\n  \n  await renderPopularBooks('All categories');\n  hideLoader();\n  \n});\n\nrefs.categoriesListMain.addEventListener('click', onCatListClick);\nasync function onCatListClick(e) {\n  e.preventDefault();\n  let books;\n  \n  refs.allCategoriesContainer.innerHTML = '';\n\n  if (e.target === e.currentTarget) return;\n  selectedCategory = e.target.closest('li');\n  highlightSelectedCategory(selectedCategory);\n  \n  await renderPopularBooks(selectedCategory);\n\n\n  try {\n    books = await booksApi.getSelectedCategory(selectedCategory.textContent);\n  } catch (err) {\n    console.log('error');\n    emptyPage();\n  }\n\n  bookTitle(selectedCategory);\n  renderCategoriesMain(books, selectedCategory);\n}\n\nfunction highlightSelectedCategory(selectedCategory) {\n  const items = document.querySelectorAll('.categories-list-item');\n  for (const item of items) {\n    if (item.textContent === selectedCategory.textContent)\n      item.classList.add('categories-list-active');\n    else item.classList.remove('categories-list-active');\n  }\n}\n\n// ================ALL BOOKS CONTAINER EVENT LISTENER================\n\n//==================  SEE MORE BUTTONS =================\nrefs.allCategoriesContainer.addEventListener('click', async e => {\n  if (e.target.nodeName == 'H2') return;\n  if (e.target.nodeName == 'BUTTON') {\n    refs.allCategoriesContainer.innerHTML = '';\n    const selectedSeeMore = e.target.closest('.see-more-btn').dataset.id;\n    let books;\n    try {\n      books = await booksApi.getSelectedCategory(selectedSeeMore);\n      bookTitleSeeMore(selectedSeeMore);\n      renderCategoriesMain(books);\n    } catch (err) {\n      console.log('error');\n      emptyPage();\n    }\n  } else {\n    //=========================modal================================\n    const bookId = e.target.closest('.book-item').dataset.id;\n    const book = await booksApi.getBookDetailedInfo(bookId);\n\n    const markup = createModalMarkup(book);\n    pushMarkup(markup);\n    document.body.style.overflow = 'hidden';\n    checkBookStatus(book);\n    const modalButton = document.querySelector('.modal-btn');\n\n    modalButton.addEventListener('click', elem => {\n      elem.preventDefault();\n      successTextMarkup()\n      \n\n      toggleShoppingList(book);\n    });\n    hideModal();\n  }\n});\n\n// =====================================\n"],"names":["booksAPI","url","axios","selectedCategory","selectedBookID","createModalMarkup","FROM_SERVER","amazon1x","amazon2x","amazon3x","book1x","book2x","book3x","pushMarkup","markup","hideModal","modalBackdrop","modalCloseBtn","event","removeListeners","e","successTextMarkup","existingSuccessText","modalButton","pushSuccessTextMarkup","toggleShoppingList","book","shoppingList","btnTextContent","bookIndex","item","checkBookStatus","mainBookTemplate","book_image","title","author","_id","mainBooksTemplate","books","renderCategoriesMain","markupMain","refs","bookTitle","markupBookTitle","applyLastWordStyle","bookTitleSeeMore","element","text","lastWordIndex","html","emptyPage","iziToast","showLoader","hideLoader","booksApi","renderPopularBooks","addPopularMainTitle","popularBooks","bestSellersMarkup","markupTitle","categoriesList","categoryListTemplate","renderCategoriesList","addCategoriesList","err","scrollUpBtn","scrollFunction","scrollUp","onCatListClick","highlightSelectedCategory","items","selectedSeeMore","bookId","elem"],"mappings":"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"}